<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Field Lab</title>
  <link rel="icon" href="favicon.png" />
  <style>
	  
	   @font-face {
      font-family: Monument-Mono;
      src: url(ABCMonumentGroteskMono-Regular.otf);
    }

    @font-face {
      font-family: Monument-Semi-Mono;
      src: url(ABCMonumentGroteskSemi-Mono-Regular.otf);
    }
  
    @font-face {
      font-family: Monument-Mono-Bold;
      src: url(ABCMonumentGroteskMono-Bold.otf);
    }
  
    @font-face {
      font-family: Monument-Grotesk;
      src: url("ABCMonumentGrotesk-Regular.ttf");
    }

	   @font-face {
      font-family: Monument-Grotesk-Bold;
      src: url("ABCMonumentGrotesk-Bold.ttf");
    }
	  
    ::selection {
      color: white;
      background: white;
    }
	

    html, body {
      margin: 0;
      padding: 0;
       height: 100dvh; /* Better for modern mobile browsers */
      overflow: hidden;
      font-family: Monument-Semi-Mono, sans-serif;
    }

    .hero {
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      overflow: hidden;
    }

    /* Full-screen image hero */
   .hero-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 1.5s ease;
  opacity: 0;
  z-index: -1;
}

.hero-image.current {
  z-index: 1;
  opacity: 0; /* Start at 0, fade in with JS */
}

.hero-image.fade-in {
  opacity: 1;
}

.hero-image.next {
  z-index: 0;
}

    #svg-container {
      position: absolute;
      top: 50%;
      left: 40%;
      transform: translate(-50%, -50%);
      width: 20vw;
      z-index: 2;
      cursor: pointer;
    }
	  #svg-container:hover {
     
      cursor: pointer;
    }

    svg path {
      visibility: hidden;
      transition: transform 0.6s ease;
    }

    .info-box {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: Monument-Mono, monospace;
  font-size: 1.2vw;
  color: white;
  background: transparent;
  opacity: 0;
  pointer-events: none;
transition: none; /* default — no transition unless a class is added */
  z-index: 1000;
  text-align: center;
  box-sizing: border-box;
}

.info-box.visible {
  opacity: 1;
  pointer-events: auto;
}
	  
	  .info-box.fade-in {
transition: opacity 1s ease 0.5s; /* 0.5s delay before fading in */
  opacity: 1;
  pointer-events: auto;
}
	  
	  .info-box.fade-out {
  transition: opacity 0.5s ease;
  opacity: 0;
  pointer-events: none;
}

.close-btn {
  position: absolute;
      top: 10%;
      left: 50%;
      transform: translate(-50%, -50%);
  cursor: pointer;
  color: white;
  font-family: Monument-Mono;
  font-size: 4vw;
  z-index: 1001;
	padding-left: 0.4em;
	padding-right: 0.4em;
		
}

    .close-btn:hover {
      transition: opacity 0.5s ease;
  opacity: 0;
		cursor: pointer;
    }

    .close-btn:clicked {
        opacity: 0;
    }
	  
	  .close-btn:active {
		    opacity: 0;
    }
	  
	  .close-btn:visited {
        opacity: 0;
    }

    .text-wrapper {
      width: 100%;
      display: flex;
      align-items: center;
      flex: 1;
    }

    .text-row {
      justify-content: space-between;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      width: 100%;
   
  
    }

    .text-box-large {
		    position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 2;
      cursor: pointer;
      width: 40vw;
      font-size: 1.5vw;
      line-height: 1.2;
      text-align: center;
      font-family: Monument-Mono;
      margin-bottom: 2vw;
    }

   .text-side-column {
  position: absolute;
  bottom: env(safe-area-inset-bottom, 2vh);
  left: 50%;
  transform: translateX(-50%);
}

	  
    .text-small {
	    padding-bottom: env(safe-area-inset-bottom, 2vh);
		bottom: 1%;
      letter-spacing: 0.02em;
    margin-bottom: 5vh;
      font-size: 1.1vw;
      line-height: 1.5;
      letter-spacing: 0.01em;
		width: 50vw;
      font-family: Monument-Mono;
    }

	  a {
		 color: white;
      font-family: Monument-Mono;
      text-transform: uppercase;
      letter-spacing: 0.02em;
		  text-decoration: none;
      padding: 0.5em;
		  border: solid 1px;
		  border-color: white;
		  margin-top: 10vw;
	  }
	  
   

  

a:hover {
		      transition: background-color 0.3s ease, color 0.3s ease;
padding: 0.5em;
      background: white;
      color: white;
    }

    #wordmark-container {
      display: none;
      position: absolute;
      top: 4vw;
      left: 1vw;
      width: 15vw;
      z-index: 10;
      transition: opacity 0.8s ease;
      opacity: 0;
    }

    .info-box.visible .text-box-large,
    .info-box.visible .text-side-column,
    .info-box.visible .text-small,
    .info-box.visible .close-btn,
    .info-box.visible .links-container,
    .info-box.visible #wordmark-container {
      opacity: 1;
    }
	
	  
	  
	  svg path {
  shape-rendering: geometricPrecision;
}
#svg-container {
  backface-visibility: hidden;
  transform: translateZ(0); /* force GPU rendering */
}

    @media only screen and (max-width: 600px) {
      .hero {
        flex-direction: column;
      }

      .hero-image {
        object-fit: cover;
        width: 100%;
        height: 100%;
      }

      #svg-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 42vw;
        z-index: 2;
      }
		
	

      .text-wrapper {
        flex-direction: column;
        align-items: flex-start;
      }
		
		.close-btn {
  position: absolute;
      top: 32%;
      left: 50%;
      transform: translate(-50%, -50%);
  cursor: pointer;
  color: white;
  font-family: Monument-Mono;
  font-size: 9vw;
  z-index: 1001;
}

       .text-box-large {
		    position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 2;
      cursor: pointer;
      width: 95vw;
      font-size: 4.2vw;
      text-align: center;
      letter-spacing: -0.1vw;
	       padding-bottom: 5vh;
   
      margin-bottom: 2vw;
    }

	    
		
		  .text-small {
			margin-bottom: 0vh;
 padding-bottom: 22vh;
      font-size: 3.5vw;
		width: 85vw;
      font-family: Monument-Mono;
    }


    
    }
  </style>
</head>
<body>
  <div class="hero" id="hero">
  <img class="hero-image current" src="images/image1.png" alt="Hero Image">
  <img class="hero-image next" src="images/image2.png" alt="Hero Image">
</div>

  <div id="svg-container">
    <svg id="animated-svg" viewBox="0 0 1850 309" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path id="piece1" d="M1849.33 154.121H1541V308.245H1849.33V154.121Z" fill="white"/>
      <path id="piece2" d="M1541.33 154.121H1233V308.245H1543.33V154.121Z" fill="white"/>
      <path id="piece3" d="M1233.83 154.121H925V308.245H1240.83V154.121Z" fill="white"/>
<path id="piece4" d="M925.498 0H613.665V154.124H927.498V0Z" fill="white"/>
<path id="piece5" d="M617.169 154.121H308.335V308.245H617.169V154.121Z" fill="white"/>
<path id="piece6" d="M308.833 0H0V154.124H310.833V0Z" fill="white"/>
    </svg>
  </div>

  <div class="info-box" id="info-box">
    <div class="close-btn" id="close-btn">&times;</div>
    <div class="text-wrapper">
      <img id="wordmark-container" src="Field Lab Wordmark NEW.svg" alt="Field Lab Wordmark" />
      <div class="text-row">
        <div class="text-box-large">
		FIELD LAB: a space for building—<br>experimental and grounded in what’s<br>possible when nature, technology,<br>and culture meet. 
        </div>
        <div class="text-side-column">
          <div class="text-small">
            [We lead projects of our own<br>and contribute purposefully to others]<br><br>
			            <h4><a href="mailto:hello@fieldlab.work">CONTACT</a></h4>

          </div>
        </div>
        
      </div>
    </div>
  </div>

<script>
  document.addEventListener('contextmenu', e => e.preventDefault());

  const infoBox = document.getElementById('info-box');
  const closeBtn = document.getElementById('close-btn');

  const pieces = [
    document.getElementById('piece6'),
    document.getElementById('piece5'),
    document.getElementById('piece4'),
    document.getElementById('piece3'),
    document.getElementById('piece2'),
    document.getElementById('piece1')
  ];

  const slideUpOffset = 154.121;

  function resetPieces() {
    pieces.forEach(p => {
      p.style.visibility = 'hidden';
      p.style.transform = 'translateY(0)';
    });
    pieces[0].style.transform = `translateY(${slideUpOffset}px)`;
    pieces[2].style.transform = `translateY(${slideUpOffset}px)`;
  }

  function animateSVG() {
    resetPieces();
    setTimeout(() => pieces[0].style.visibility = 'visible', 10);
    setTimeout(() => pieces[1].style.visibility = 'visible', 200);
    setTimeout(() => pieces[2].style.visibility = 'visible', 300);
    setTimeout(() => pieces[0].style.transform = 'translateY(0)', 400);
    setTimeout(() => pieces[3].style.visibility = 'visible', 500);
    setTimeout(() => pieces[2].style.transform = 'translateY(0)', 600);
    setTimeout(() => pieces[4].style.visibility = 'visible', 600);
    setTimeout(() => pieces[5].style.visibility = 'visible', 700);
  }

  function reverseSVG() {
    pieces.forEach((p, i) => {
      setTimeout(() => {
        p.style.visibility = 'hidden';
      }, i * 100);
    });
  }

  const heroImages = [
    'images/image1.png',
    'images/image2.png',
    'images/image3.png',
    'images/image4.png'
  ];

  // Get current image index from localStorage and increment it for next load
  let currentIndex = parseInt(localStorage.getItem('heroIndex') || '0', 10);
  currentIndex = (currentIndex + 1) % heroImages.length;
  localStorage.setItem('heroIndex', currentIndex);

const heroContainer = document.getElementById('hero');
let currentImageEl = document.createElement('img');
currentImageEl.src = heroImages[currentIndex];
currentImageEl.className = 'hero-image current';
heroContainer.innerHTML = '';
heroContainer.appendChild(currentImageEl);

// Trigger fade-in on load
setTimeout(() => {
  currentImageEl.classList.add('fade-in');
}, 50);

  let nextIndex = (currentIndex + 1) % heroImages.length;

  function crossfadeImage() {
    const nextImageEl = document.createElement('img');
    nextImageEl.src = heroImages[nextIndex];
    nextImageEl.className = 'hero-image next';
    heroContainer.appendChild(nextImageEl);

    setTimeout(() => {
      nextImageEl.style.opacity = '1';
      currentImageEl.style.opacity = '0';
    }, 50);

    setTimeout(() => {
      heroContainer.removeChild(currentImageEl);
      nextImageEl.className = 'hero-image current';
      currentImageEl = nextImageEl;
      nextIndex = (nextIndex + 1) % heroImages.length;
    }, 1050);
  }

  window.onload = () => {
    animateSVG();
 };


  document.getElementById('svg-container').addEventListener('click', () => {
    infoBox.classList.remove('fade-out');
    infoBox.classList.add('fade-in');
    reverseSVG();
  });

  closeBtn.addEventListener('click', () => {
  closeBtn.classList.add('clicked');
  infoBox.classList.remove('fade-in');
  infoBox.classList.add('fade-out');

  // Trigger image change
  crossfadeImage();

  setTimeout(() => {
    closeBtn.classList.remove('clicked');
    animateSVG();
  }, 500);
});
</script>
	
</body>
</html>
